<!DOCTYPE html>

{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'encuestas/encuestas.css' %}">

{% if messages %}
<div class="messages">
    {% for message in messages %}
    <br>{% if message.tags %} [{{ message.tags }}] {% endif %} {{ message }}</br>
    {% endfor %}
</div>
{% endif %}

<div id="titulo">Encuesta para el cuatrimestre {{ cuatrimestre_value }} de {{ anno }}</div>

<form action="{% url 'encuestas:encuesta' anno cuatrimestres tipo_docente %}" method="post">
{% csrf_token %}

<p>
    <div id="subtitulo">Nombre:</div>
    <select name="docente">
        {% for docente in docentes %}
        <option value="{{ docente.id }}"
                {% if docente.id == docente_selected %}selected{% endif %}
        >{{ docente.nombre }}</option>
        {% endfor %}
    </select>
</p>


{% for cuatrimestre, infocuat in opciones_por_cuatrimestre.items %}
    <p>
        <div id="subtitulo">Turnos que debe cubrir en el cuatrimestre {{ cuatrimestre.value }}:</div>
        <input type="number" name="cargas" min=0 max=3 value={{ cargas }}>
    </p>

    <p>
    <div id="subtitulo">Turnos preferidos</div>
    {% for i, lista_corta, elegido, peso in infocuat.opciones %}
        <div id="seleccion">
            <select name="opcion{{ cuatrimestre.name }}{{ i }}">
                {% for turno in infocuat.turnos %}
                <option value="{{ turno.id }}"
                        {% if lista_corta and not turno.dificil_de_cubrir %}disabled{% endif %}
                        {% if turno.id == elegido %}selected{% endif %}>
                {{ turno.texto }}
                </option>
                {% endfor %}
            </select>
            Peso: <input type="number" name="peso{{ cuatrimestre.name }}{{ i }}" min=0 max={{ maximo_peso }} value={{ peso }}>
        </div>
    </p>
    {% endfor %}
{% endfor %}

<p>
    <div id="subtitulo">email</div>
    <input type="email" name="email" value="{{ email }}">
</p>

<p>
    <div id="subtitulo">Tel√©fono</div>
    <input type="tel" name="telefono" value="{{ telefono }}">
</p>

<p>
    <div id="subtitulo">Comentarios</div>
    <textarea name="comentario" cols=120 rows=3>{{ comentario }}</textarea>
</p>


<p>
<input type="submit" value="mandar">
</form>
